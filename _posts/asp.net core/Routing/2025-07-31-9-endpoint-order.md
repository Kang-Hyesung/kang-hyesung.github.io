---
title: "[9] Endpoint μ°μ„ μμ„"
date: 2025-07-31 22:23 +0900
author: hyesung
---
μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•  λ•, λ™μΌν• URL ν¨ν„΄μ— μ—¬λ¬ κ°μ μ—”λ“ν¬μΈνΈ(Endpoint)κ°€ λ§¤μΉ­λλ” κ²½μ°κ°€ μΆ…μΆ… λ°μƒν•λ‹¤. μλ¥Ό λ“¤μ–΄, `sales-report/{year}/{month}`μ™€ `sales-report/2024/jan`μ΄λΌλ” λ‘ κ°μ κ²½λ΅κ°€ μμ„ λ•, μ‚¬μ©μκ°€ `sales-report/2024/jan`μΌλ΅ μ”μ²­μ„ λ³΄λ‚΄λ©΄ μ–΄λ–¤ μ—”λ“ν¬μΈνΈκ°€ μ‹¤ν–‰λ κΉ?

λ§μ€ κ°λ°μκ°€ μ½”λ“μ— μ •μλ μμ„λ€λ΅ μ²λ¦¬λ  κ²ƒμ΄λΌ μƒκ°ν•μ§€λ§, ASP.NET Coreμ λΌμ°ν… μ‹μ¤ν…μ€ **μμ„κ°€ μ•„λ‹ λ…ν™•ν• μ°μ„ μμ„ κ·μΉ™(Precedence Rules)** μ— λ”°λΌ λ™μ‘ν•λ‹¤. 

## π― ASP.NET Coreμ λΌμ°ν… μ°μ„ μμ„ 4κ°€μ§€ κ·μΉ™

ASP.NET Coreλ” URLμ΄ μ—¬λ¬ κ²½λ΅μ™€ μΌμΉν•  λ•, λ” "κµ¬μ²΄μ μΈ(specific)" κ²½λ΅λ¥Ό μ„ νƒν•κΈ° μ„ν•΄ λ‹¤μκ³Ό κ°™μ€ 4κ°€μ§€ ν•µμ‹¬ κ·μΉ™μ„ λ”°λ¥Έλ‹¤.

### 1. λ” λ§μ€ μ„Έκ·Έλ¨ΌνΈ(Segment)λ¥Ό κ°€μ§„ κ²½λ΅κ°€ μ°μ„ ν•λ‹¤.

URL κ²½λ΅λ” '/'λ΅ κµ¬λ¶„λλ” μ„Έκ·Έλ¨ΌνΈλ΅ κµ¬μ„±λλ‹¤. λ‘ κ²½λ΅κ°€ μ¶©λν•  κ²½μ°, λ” λ§μ€ μ„Έκ·Έλ¨ΌνΈλ¥Ό κ°€μ§„ κ²½λ΅κ°€ λ” λ†’μ€ μ°μ„ μμ„λ¥Ό κ°–λ”λ‹¤.

- `/a/b/c` (3κ° μ„Έκ·Έλ¨ΌνΈ) > `/a/b` (2κ° μ„Έκ·Έλ¨ΌνΈ)

λ”°λΌμ„ `a/b/c`λ΅ λ“¤μ–΄μ¨ μ”μ²­μ€ λ‘ κ²½λ΅ λ¨λ‘μ— λ§¤μΉ­λ  μ μμ§€λ§, μ„Έκ·Έλ¨ΌνΈκ°€ 3κ°μΈ μ²« λ²μ§Έ κ²½λ΅κ°€ μ„ νƒλλ‹¤.

### 2. λ¦¬ν„°λ΄(Literal) κ²½λ΅κ°€ κ²½λ΅ λ§¤κ°λ³€μ(Route Parameter)λ³΄λ‹¤ μ°μ„ ν•λ‹¤.

λ¦¬ν„°λ΄ κ²½λ΅λ” λ³€μ μ—†μ΄ κ³ μ •λ ν…μ¤νΈλ΅λ§ μ΄λ£¨μ–΄μ§„ κ²½λ΅λ‹¤. λ™μΌν• μ„μΉμ— λ¦¬ν„°λ΄κ³Ό λ§¤κ°λ³€μκ°€ ν•¨κ» μλ‹¤λ©΄, λ¦¬ν„°λ΄ κ²½λ΅κ°€ λ” κµ¬μ²΄μ μΈ κ²ƒμΌλ΅ κ°„μ£Όλμ–΄ μ°μ„  μ„ νƒλλ‹¤.

- `sales-report/2024/jan` > `sales-report/{year}/{month}`

λ§μ•½ μ”μ²­ URLμ΄ `sales-report/2024/jan`μ΄λΌλ©΄, λ‘ λ²μ§Έ κ²½λ΅μ—μ„λ” `year`μ™€ `month` λ§¤κ°λ³€μμ— κ°’μ„ ν• λ‹Ήν•  μ μμ§€λ§, μ²« λ²μ§Έ λ¦¬ν„°λ΄ κ²½λ΅μ™€ μ™„λ²½ν•κ² μΌμΉν•λ―€λ΅ μ²« λ²μ§Έ κ²½λ΅κ°€ μ‹¤ν–‰λλ‹¤. ν•μ§€λ§ μ”μ²­μ΄ `sales-report/2023/dec`μ™€ κ°™μ΄ λ¦¬ν„°λ΄ κ²½λ΅μ™€ μΌμΉν•μ§€ μ•μΌλ©΄, λ§¤κ°λ³€μλ¥Ό μ‚¬μ©ν•λ” λ‘ λ²μ§Έ κ²½λ΅κ°€ μ„ νƒλλ‹¤.

### 3. μ μ•½ μ΅°κ±΄(Constraint)μ΄ μλ” λ§¤κ°λ³€μκ°€ μ—†λ” λ§¤κ°λ³€μλ³΄λ‹¤ μ°μ„ ν•λ‹¤.

κ²½λ΅ λ§¤κ°λ³€μμ—λ” νƒ€μ…, κΈΈμ΄, λ²”μ„ λ“± λ‹¤μ–‘ν• μ μ•½ μ΅°κ±΄μ„ μ¶”κ°€ν•  μ μλ‹¤. μ μ•½ μ΅°κ±΄μ΄ μλ” λ§¤κ°λ³€μλ” λ” κµ¬μ²΄μ μΈ μλ„λ¥Ό κ°€μ§€λ―€λ΅ μ μ•½μ΄ μ—†λ” λ§¤κ°λ³€μλ³΄λ‹¤ μ°μ„ μμ„κ°€ λ†’λ‹¤.

- `a/{id:int}` > `a/{id}`

`a/10`μ΄λΌλ” μ”μ²­μ΄ λ“¤μ–΄μ¤λ©΄, `id`λ” μ •μ(int)μ΄λ―€λ΅ μ μ•½ μ΅°κ±΄μ— λ¶€ν•©ν•λ‹¤. λ”°λΌμ„ μ μ•½ μ΅°κ±΄μ΄ μλ” μ²« λ²μ§Έ κ²½λ΅κ°€ μ„ νƒλλ‹¤. λ§μ•½ `a/hello`μ²λΌ μ •μκ°€ μ•„λ‹ κ°’μΌλ΅ μ”μ²­μ΄ μ¨λ‹¤λ©΄, μ²« λ²μ§Έ κ²½λ΅μ μ μ•½ μ΅°κ±΄μ— λ§μ§€ μ•μΌλ―€λ΅ λ‘ λ²μ§Έ κ²½λ΅κ°€ μ²λ¦¬ν•κ² λλ‹¤.

### 4. μΌλ° λ§¤κ°λ³€μκ°€ μΊμΉ-μ¬(Catch-all) λ§¤κ°λ³€μλ³΄λ‹¤ μ°μ„ ν•λ‹¤.

μΊμΉ-μ¬ λ§¤κ°λ³€μ(`**` λλ” `*`)λ” λ‚λ¨Έμ§€ λ¨λ“  URL μ„Έκ·Έλ¨ΌνΈλ¥Ό ν¬κ΄„ν•λ” νΉλ³„ν• λ§¤κ°λ³€μλ‹¤. μ΄λ” κ°€μ¥ λ‚®μ€ μ°μ„ μμ„λ¥Ό κ°€μ§€λ©°, μΌμΉν•λ” λ‹¤λ¥Έ κ²½λ΅κ°€ μ—†μ„ λ• μµν›„μ μλ‹¨μΌλ΅ μ‚¬μ©λλ‹¤.

- `a/{id}` > `a/{**catchall}`

`a/10` μ”μ²­μ€ λ‘ κ²½λ΅ λ¨λ‘μ™€ μΌμΉν•μ§€λ§, λ” κµ¬μ²΄μ μΈ μΌλ° λ§¤κ°λ³€μλ¥Ό κ°€μ§„ μ²« λ²μ§Έ κ²½λ΅κ°€ μ„ νƒλλ‹¤. μΊμΉ-μ¬ λ§¤κ°λ³€μλ” μΌλ°μ μΌλ΅ ν΄λ°±(fallback) λΌμ°ν…μ΄λ‚ νμ΄μ§€ κ²½λ΅ μ²λ¦¬ λ“±μ— μ μ©ν•λ‹¤.

---

## π’» μ‹¤μ „ μμ λ΅ μ΄ν•΄ν•κΈ°

μ•„λλ” μ κ³µλ C# μ½”λ“λ¥Ό λ°”νƒ•μΌλ΅ λΌμ°ν… μ°μ„ μμ„ κ·μΉ™μ„ λ³΄μ—¬μ£Όλ” μμ λ‹¤.

**`Program.cs`**

```csharp
var builder = WebApplication.CreateBuilder(args);

// ... μ„λΉ„μ¤ μ„¤μ • ...

var app = builder.Build();

app.UseRouting();

app.UseEndpoints(endpoints =>
{
    // κ·μΉ™ 1: κ²½λ΅ λ§¤κ°λ³€μλ¥Ό μ‚¬μ©ν•λ” μΌλ°μ μΈ νλ§¤ λ³΄κ³ μ„ μ—”λ“ν¬μΈνΈ
    // μ: /sales-report/2023/dec
    endpoints.Map("sales-report/{year:int:min(1900)}/{month:alpha:length(3)}", async context =>
    {
        int year = Convert.ToInt32(context.Request.RouteValues["year"]);
        string? month = Convert.ToString(context.Request.RouteValues["month"]);
        await context.Response.WriteAsync($"Sales Report for: {year} - {month}");
    });

    // κ·μΉ™ 2: λ¦¬ν„°λ΄ ν…μ¤νΈλ¥Ό μ‚¬μ©ν•λ” νΉμ • νλ§¤ λ³΄κ³ μ„ μ—”λ“ν¬μΈνΈ
    // μ¤μ§ /sales-report/2024/jan μ”μ²­μ—λ§ μ‘λ‹µ
    endpoints.Map("sales-report/2024/jan", async context =>
    {
        await context.Response.WriteAsync("Sales report exclusively for 2024 - jan");
    });
});

app.Run(async context => {
    await context.Response.WriteAsync($"No route matched at {context.Request.Path}");
});

app.Run();
```

μ„ μ½”λ“μ—λ” λ‘ κ°μ μ—”λ“ν¬μΈνΈκ°€ μ •μλμ–΄ μλ‹¤. ν•λ‚λ” μ—°λ„μ™€ μ›”μ„ λ§¤κ°λ³€μλ΅ λ°›κ³ , λ‹¤λ¥Έ ν•λ‚λ” `2024/jan`μ΄λΌλ” κ³ μ •λ λ¦¬ν„°λ΄ κ²½λ΅λ¥Ό μ‚¬μ©ν•λ‹¤.

- μ”μ²­ URL: /sales-report/2024/jan
    
    μ΄ URLμ€ λ‘ μ—”λ“ν¬μΈνΈ ν¨ν„΄μ— λ¨λ‘ μΌμΉν•λ‹¤. ν•μ§€λ§ **κ·μΉ™ 2 (λ¦¬ν„°λ΄ κ²½λ΅ μ°μ„ )**μ— λ”°λΌ endpoints.Map("sales-report/2024/jan", ...)κ°€ μ„ νƒλλ‹¤. λ”°λΌμ„ μ‘λ‹µμ€ "Sales report exclusively for 2024 - jan"μ΄ λλ‹¤.
    
- μ”μ²­ URL: /sales-report/2023/dec
    
    μ΄ URLμ€ λ¦¬ν„°λ΄ κ²½λ΅μ™€ μΌμΉν•μ§€ μ•λ”λ‹¤. ν•μ§€λ§ λ§¤κ°λ³€μλ¥Ό μ‚¬μ©ν•λ” μ²« λ²μ§Έ μ—”λ“ν¬μΈνΈ(sales-report/{year}/{month})μ ν¨ν„΄κ³Όλ” μΌμΉν•λ‹¤. yearμ—λ” 2023μ΄, monthμ—λ” decκ°€ ν• λ‹Ήλλ‹¤. λ”°λΌμ„ μ‘λ‹µμ€ "Sales Report for: 2023 - dec"κ°€ λλ‹¤.
    

μ΄ μμ μ κ°€μ¥ ν° μ¥μ μ€ **κ°λ°μκ°€ μ—”λ“ν¬μΈνΈ μ •μ μμ„λ¥Ό μ‹ κ²½ μ“Έ ν•„μ”κ°€ μ—†λ‹¤λ” μ **μ΄λ‹¤. λ¦¬ν„°λ΄ κ²½λ΅λ¥Ό λ§¤κ°λ³€μ κ²½λ΅λ³΄λ‹¤ λ¨Όμ € μ •μν•λ“  λ‚μ¤‘μ— μ •μν•λ“ , ASP.NET Coreμ λΌμ°ν… μ‹μ¤ν…μ΄ μ•μ•„μ„ μ°μ„ μμ„μ— λ”°λΌ μ¬λ°”λ¥Έ μ—”λ“ν¬μΈνΈλ¥Ό μ‹¤ν–‰ν•΄μ¤€λ‹¤.

---

## π¤” Java Springμ—μ„λ”?

C#μ ASP.NET Coreμ—μ„ κ²½ν—ν• λΌμ°ν… κ°λ…μ€ Java Spring Framework (νΉν Spring MVC)μ—μ„λ„ λ§¤μ° μ μ‚¬ν•κ² μ μ©λλ‹¤. Springμ—μ„λ” μ»¨νΈλ΅¤λ¬(Controller)μ λ©”μ„λ“μ— `@RequestMapping` λλ” μ΄μ λ‹¨μ¶•ν•μΈ `@GetMapping`, `@PostMapping` λ“±μ μ• λ„ν…μ΄μ…(Annotation)μ„ μ‚¬μ©ν•μ—¬ URLμ„ λ§¤ν•‘ν•λ‹¤.

Spring μ—­μ‹ **κ°€μ¥ κµ¬μ²΄μ μΈ κ²½λ΅λ¥Ό μ°μ„ (most specific path wins)** ν•λ” μ›μΉ™μ„ λ”°λ¥Έλ‹¤.

#### C#κ³Ό Java Springμ λΌμ°ν… λ§¤ν•‘

|κ°λ…|ASP.NET Core (C#)|Spring (Java)|
|---|---|---|
|**κ²½λ΅ λ§¤ν•‘**|`endpoints.Map(...)`|`@GetMapping(...)`|
|**κ²½λ΅ λ§¤κ°λ³€μ**|`/{year}`|`/{year}` + `@PathVariable`|
|**νƒ€μ… μ μ•½**|`/{id:int}`|λ©”μ„λ“ νλΌλ―Έν„° νƒ€μ…μ„ `int`λ΅ μ§€μ •|
|**μΊμΉ-μ¬**|`/{**path}`|`/**` (Ant-style path patterns)|

#### Spring μμ  μ½”λ“

μ„μ C# μμ μ™€ λ™μΌν• λ΅μ§μ„ Java SpringμΌλ΅ κµ¬ν„ν•λ©΄ λ‹¤μκ³Ό κ°™λ‹¤.

**`SalesReportController.java`**

```java
@RestController
@RequestMapping("/sales-report")
public class SalesReportController {

    // κ·μΉ™ 1: κ²½λ΅ λ³€μ(PathVariable)λ¥Ό μ‚¬μ©ν•λ” μΌλ°μ μΈ νλ§¤ λ³΄κ³ μ„ μ—”λ“ν¬μΈνΈ
    @GetMapping("/{year}/{month}")
    public String getSalesReport(@PathVariable int year, @PathVariable String month) {
        // μ •κ·μ‹ λ“±μΌλ΅ month μ ν¨μ„± κ²€μ¦ μ¶”κ°€ κ°€λ¥
        return String.format("Sales Report for: %d - %s", year, month);
    }

    // κ·μΉ™ 2: λ¦¬ν„°λ΄ κ²½λ΅λ¥Ό μ‚¬μ©ν•λ” νΉμ • νλ§¤ λ³΄κ³ μ„ μ—”λ“ν¬μΈνΈ
    @GetMapping("/2024/jan")
    public String getExclusiveSalesReport() {
        return "Sales report exclusively for 2024 - jan";
    }
}
```

ASP.NET Coreμ™€ λ§μ°¬κ°€μ§€λ΅, `GET /sales-report/2024/jan` μ”μ²­μ΄ λ“¤μ–΄μ¤λ©΄ Springμ€ λ” κµ¬μ²΄μ μΈ `/2024/jan` κ²½λ΅κ°€ λ§¤ν•‘λ `getExclusiveSalesReport()` λ©”μ„λ“λ¥Ό μ‹¤ν–‰ν•λ‹¤. κ·Έ μ™Έμ `GET /sales-report/2023/dec`μ™€ κ°™μ€ μ”μ²­μ€ `@PathVariable`μ„ μ‚¬μ©ν•λ” `getSalesReport()` λ©”μ„λ“μ—μ„ μ²λ¦¬λλ‹¤.

## π’΅ κ²°λ΅ 

ASP.NET Coreμ™€ Java Springμ λΌμ°ν… μ‹μ¤ν…μ€ λ¨λ‘ **μ •μ μμ„κ°€ μ•„λ‹ κ²½λ΅μ κµ¬μ²΄μ„±(specificity)** μ„ κΈ°λ°μΌλ΅ λ™μ‘ν•λ‹¤.

1. **λ¦¬ν„°λ΄ κ²½λ΅**λ” ν•­μƒ **λ§¤κ°λ³€μ κ²½λ΅**λ³΄λ‹¤ μ°μ„ ν•λ‹¤.
2. **λ” λ§μ€ μ„Έκ·Έλ¨ΌνΈ**λ‚ **λ” κµ¬μ²΄μ μΈ μ μ•½ μ΅°κ±΄**μ„ κ°€μ§„ κ²½λ΅κ°€ μ°μ„ κ¶μ„ κ°–λ”λ‹¤.
3. μ΄λ¬ν• κ·μΉ™ λ•λ¶„μ— κ°λ°μλ” μ—”λ“ν¬μΈνΈμ λ¬Όλ¦¬μ  μ½”λ“ μμ„μ— λ€ν•΄ κ±±μ •ν•  ν•„μ” μ—†μ΄, λ…Όλ¦¬μ μΌλ΅ μμΈ΅ κ°€λ¥ν• μ• ν”λ¦¬μΌ€μ΄μ…μ„ κµ¬μ¶•ν•  μ μλ‹¤.